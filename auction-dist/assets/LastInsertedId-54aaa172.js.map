{"version":3,"file":"LastInsertedId-54aaa172.js","sources":["../../src/views/LastInsertedId.vue"],"sourcesContent":["<template>\r\n  <div id=\"lastInsertID\">\r\n    <h2 class=\"text-xl font-bold flex gap-2 items-center\">\r\n      <i class=\"isax isax-bold-arrow-left-2 cursor-pointer\" @click=\"$router.go(-1)\"></i>\r\n      Last Insert ID\r\n    </h2>\r\n    <div class=\"box-login mx-auto p-8 max-w-2xl rounded-xl bg-white shadow\">\r\n        <div class=\"field\">\r\n            <div class=\"p-float-label\">\r\n            <InputText\r\n                :class=\"emp.name ? 'p-filled' : ''\"\r\n                v-model=\"emp.name\"\r\n                id=\"name\"\r\n                required\r\n            />\r\n            <label for=\"name\">Employee Name</label>\r\n            </div>\r\n        </div>\r\n        <div class=\"field\">\r\n            <div class=\"p-float-label\">\r\n            <InputText\r\n                :class=\"emp.age ? 'p-filled' : ''\"\r\n                v-model=\"emp.age\"\r\n                id=\"age\"\r\n                required\r\n            />\r\n            <label for=\"age\">Employee Age</label>\r\n            </div>\r\n        </div>\r\n        <div class=\"field\">\r\n            <div class=\"p-float-label\">\r\n            <InputText\r\n                :class=\"emp.address ? 'p-filled' : ''\"\r\n                v-model=\"emp.address\"\r\n                id=\"address\"\r\n                required\r\n            />\r\n            <label for=\"address\">Employee Address</label>\r\n            </div>\r\n        </div>\r\n        <div class=\"btn-wrapper\">\r\n            <button\r\n            class=\"btn btn-submit\"\r\n            @click.prevent=\"saveAndGetLastInsertedId\"\r\n            >\r\n            <i class=\"isax isax-bold-tick-circle\"></i>\r\n            Save & Get Last Insert ID\r\n            </button>\r\n        </div>\r\n        <div class=\"field mt-4\">\r\n            <h3>Result</h3>\r\n            <json-viewer\r\n            :value=\"empResult\"\r\n            boxed\r\n            :expanded=\"true\"\r\n            ></json-viewer>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MQL from \"@/plugins/mql.js\";\r\nimport { ref } from \"vue\";\r\nimport jsonViewer from \"vue-json-viewer\";\r\nimport { createToaster } from \"@meforma/vue-toaster\";\r\nconst toast = createToaster({ position: \"top-right\", duration: 3000 });\r\n\r\nlet emp = ref({});\r\nlet empResult = ref({});\r\nfunction saveAndGetLastInsertedId() {\r\n  new MQL()\r\n    .setActivity(\"o.[FetchLastInsertedId]\")\r\n    .setData(emp.value)\r\n    .fetch()\r\n    .then((rs) => {\r\n      let res = rs.getActivity(\"FetchLastInsertedId\", true);\r\n      if (rs.isValid(\"FetchLastInsertedId\")) {\r\n        toast.success(\"Data Saved Successfully\");\r\n        emp.value = {};\r\n        empResult.value = res.result;\r\n      } else {\r\n        rs.showErrorToast(\"FetchLastInsertedId\");\r\n      }\r\n    });\r\n}\r\n</script>\r\n"],"names":["toast","createToaster","position","duration","emp","ref","empResult","saveAndGetLastInsertedId","MQL","setActivity","setData","value","fetch","then","rs","res","getActivity","isValid","success","result","showErrorToast"],"mappings":"4vBAkEA,MAAMA,EAAQC,EAAc,CAAEC,SAAU,YAAaC,SAAU,MAE3D,IAAAC,EAAMC,EAAI,CAAA,GACVC,EAAYD,EAAI,CAAA,GACpB,SAASE,KACP,IAAIC,GACDC,YAAY,2BACZC,QAAQN,EAAIO,OACZC,QACAC,MAAMC,IACL,IAAIC,EAAMD,EAAGE,YAAY,uBAAuB,GAC5CF,EAAGG,QAAQ,wBACbjB,EAAMkB,QAAQ,2BACdd,EAAIO,MAAQ,GACZL,EAAUK,MAAQI,EAAII,QAEtBL,EAAGM,eAAe,sBACnB,GAEP"}