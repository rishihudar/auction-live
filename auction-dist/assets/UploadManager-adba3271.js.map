{"version":3,"file":"UploadManager-adba3271.js","sources":["../../src/components/upload-manager/uploadFile.vue","../../src/components/upload-manager/uploadProgessFile.vue","../../src/views/UploadManager.vue"],"sourcesContent":["<template>\r\n  <div id=\"uploadFile\" class=\"container-fluid\">\r\n    <h2 class=\"text-xl font-bold flex gap-2 items-center justify-center\">Upload File</h2>\r\n    <div class=\"grid gap-4 grid-cols-2\">\r\n        <div class=\"box-login mx-auto p-8 w-full rounded-xl bg-white shadow\">\r\n            <FormKit\r\n            type=\"form\"\r\n            id=\"registration-example\"\r\n            :form-class=\"submitted ? 'hide' : 'show'\"\r\n            submit-label=\"Upload\"\r\n            @submit=\"uploadFile\"\r\n            :actions=\"false\"\r\n            >\r\n            <FormKit\r\n                type=\"text\"\r\n                name=\"sessionName\"\r\n                label=\"CDN Base Url\"\r\n                v-model=\"upload.cdnBaseUrl\"\r\n                placeholder=\"CDN Base Url\"\r\n                help=\"Enter CDN Base Url\"\r\n                validation=\"required\"\r\n            />\r\n            <FormKit\r\n                type=\"text\"\r\n                name=\"sessionName\"\r\n                label=\"File Upload Url\"\r\n                v-model=\"upload.uploadFileUrl\"\r\n                placeholder=\"File Upload Url\"\r\n                help=\"Enter File Upload Url\"\r\n                validation=\"required\"\r\n            />\r\n            <FormKit\r\n                type=\"text\"\r\n                name=\"sessionName\"\r\n                label=\"Destination File Url\"\r\n                v-model=\"upload.destinationFileUrl\"\r\n                placeholder=\"Destination File Url\"\r\n                help=\"Enter Destination File Url\"\r\n                validation=\"required\"\r\n            />\r\n            <FormKit type=\"submit\" label=\"Upload File\" />\r\n            </FormKit>\r\n            <div class=\"field mt-4\">\r\n            <h3>Result</h3>\r\n            <json-viewer\r\n                :value=\"uploadResult\"\r\n                boxed\r\n                :expanded=\"true\"\r\n            ></json-viewer>\r\n            </div>\r\n        </div>\r\n        <div class=\"box-login mx-auto p-8 rounded-xl bg-white shadow\">\r\n            <h4>\r\n            Please start the multipart server before uploading files testing\r\n            </h4>\r\n            <ul class=\"list\">\r\n            <li>\r\n                cdnBaseUrl:\r\n                <div>\"https://cstest.mkcl.org/uploadFile/uploadsinglefile\"</div>\r\n            </li>\r\n            <li>\r\n                uploadFileUrl:\r\n                <div>\r\n                \"/app/CoreSLS/ProjectConfigBackup/1JFfwe3g8vHuNOtxk2BsH09pBA5/05_06_2021/1JFfwe3g8vHuNOtxk2BsH09pBA5_1622894824.json\"\r\n                </div>\r\n            </li>\r\n            <li>destinationFileUrl: \"\"</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MQL from \"@/plugins/mql.js\";\r\nimport { reactive, ref } from \"vue\";\r\nimport jsonViewer from \"vue-json-viewer\";\r\nimport { createToaster } from \"@meforma/vue-toaster\";\r\nconst toast = createToaster({ position: \"top-right\", duration: 3000 });\r\nlet upload = reactive({});\r\nlet uploadResult = ref(\"\");\r\nlet submitted = ref(false);\r\nfunction uploadFile() {\r\n  var a = {\r\n    cdnBaseUrl: [upload.cdnBaseUrl],\r\n    uploadFileUrl: [upload.uploadFileUrl],\r\n    destinationFileUrl: [upload.destinationFileUrl],\r\n  };\r\n  new MQL()\r\n    .setActivity(\"o.[UploadFileUsingUM]\")\r\n    .setData(a)\r\n    .fetch()\r\n    .then((rs) => {\r\n      let res = rs.getActivity(\"UploadFileUsingUM\", true);\r\n      if (rs.isValid(\"UploadFileUsingUM\")) {\r\n        upload.value = {};\r\n        uploadResult.value = res.result;\r\n        toast.success(\"File uploaded successfully\");\r\n      } else {\r\n        rs.showErrorToast(\"UploadFileUsingUM\");\r\n      }\r\n    });\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\nh4 {\r\n  margin-bottom: 1rem;\r\n}\r\n.list {\r\n  padding: 0 1rem;\r\n  li {\r\n    font-weight: 600;\r\n    div {\r\n      font-weight: 400;\r\n      word-break: break-word;\r\n    }\r\n    & + li {\r\n      margin-top: 0.75rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"progessFile\" class=\"container-fluid\">\r\n    <h2 class=\"text-xl font-bold flex gap-2 items-center justify-center\">Check Progress</h2>\r\n    <div class=\"box-login mx-auto p-8 rounded-xl bg-white shadow\">\r\n        <FormKit\r\n        type=\"form\"\r\n        id=\"registration-example\"\r\n        :form-class=\"submitted ? 'hide' : 'show'\"\r\n        submit-label=\"Upload\"\r\n        @submit=\"checkUploadProgress\"\r\n        :actions=\"false\"\r\n        >\r\n        <FormKit\r\n            type=\"text\"\r\n            name=\"sessionName\"\r\n            label=\"Upload Id\"\r\n            v-model=\"uploadId\"\r\n            placeholder=\"Upload Id\"\r\n            help=\"Enter Upload Id\"\r\n            validation=\"required\"\r\n        />\r\n        <FormKit type=\"submit\" label=\"Check Progress\" />\r\n        </FormKit>\r\n        <div class=\"field mt-4\">\r\n        <h3>Result</h3>\r\n        <json-viewer\r\n            :value=\"progressResult\"\r\n            boxed\r\n            :expanded=\"true\"\r\n        ></json-viewer>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MQL from \"@/plugins/mql.js\";\r\nimport { ref } from \"vue\";\r\nimport jsonViewer from \"vue-json-viewer\";\r\nimport { createToaster } from \"@meforma/vue-toaster\";\r\nconst toast = createToaster({ position: \"top-right\", duration: 3000 });\r\nlet uploadId = ref(\"\");\r\nlet progressResult = ref({});\r\nlet submitted = ref(false);\r\nfunction checkUploadProgress() {\r\n  new MQL()\r\n    .setActivity(\"o.[CheckUploadedFileProgress]\")\r\n    .setData({ uploadFileId: uploadId.value })\r\n    .fetch()\r\n    .then((rs) => {\r\n      let res = rs.getActivity(\"CheckUploadedFileProgress\", true);\r\n      if (rs.isValid(\"CheckUploadedFileProgress\")) {\r\n        if (res && res.result) {\r\n          progressResult.value = res.result;\r\n          uploadId.value = \"\";\r\n          toast.success(\"Progress Checked Successfully\");\r\n        } else {\r\n          toast.error(\"Progress Check Failed\");\r\n        }\r\n      } else {\r\n        rs.showErrorToast(\"CheckUploadedFileProgress\");\r\n      }\r\n    });\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","<template>\r\n  <div id=\"uploadManager\">\r\n    <h2 class=\"text-xl font-bold flex gap-2 items-center\">\r\n      <i class=\"isax isax-bold-arrow-left-2 cursor-pointer\" @click=\"$router.go(-1)\"></i>\r\n      Upload Manager\r\n    </h2>\r\n    <div class=\"mt-5 mx-auto\">\r\n      <div class=\"flex gap-2 justify-center\">\r\n        <a\r\n          class=\"tab tab-bordered px-5 py-2 h-auto rounded bg-white [&.tab-active]:bg-blue-600 [&.tab-active]:text-white\"\r\n          :class=\"active == 0 ? 'tab-active' : ''\"\r\n          @click.prevent=\"active = 0\"\r\n          >Upload File</a\r\n        >\r\n        <a\r\n          class=\"tab tab-bordered px-5 py-2 h-auto rounded bg-white [&.tab-active]:bg-blue-600 [&.tab-active]:text-white\"\r\n          :class=\"active == 1 ? 'tab-active' : ''\"\r\n          @click.prevent=\"active = 1\"\r\n          >Upload Progress Check</a\r\n        >\r\n      </div>\r\n    </div>\r\n    <div class=\"mt-8\">\r\n      <upload-file v-if=\"active == 0\"></upload-file>\r\n      <upload-progess-file v-if=\"active == 1\"></upload-progess-file>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport uploadFile from \"../components/upload-manager/uploadFile.vue\";\r\nimport uploadProgessFile from \"../components/upload-manager/uploadProgessFile.vue\";\r\n\r\nconst active = ref(0);\r\nconst items = ref([\r\n  {\r\n    label: \"Upload File\",\r\n  },\r\n  {\r\n    label: \"Check Upload Progress\",\r\n  },\r\n]);\r\n</script>\r\n"],"names":["toast","createToaster","position","duration","upload","reactive","uploadResult","ref","submitted","uploadFile","a","cdnBaseUrl","uploadFileUrl","destinationFileUrl","MQL","setActivity","setData","fetch","then","rs","res","getActivity","isValid","value","result","success","showErrorToast","uploadId","progressResult","checkUploadProgress","uploadFileId","error","active","label"],"mappings":"8lCA8EA,MAAMA,EAAQC,EAAc,CAAEC,SAAU,YAAaC,SAAU,MAC3D,IAAAC,EAASC,EAAS,CAAA,GAClBC,EAAeC,EAAI,IACnBC,EAAYD,GAAI,GACpB,SAASE,IACP,IAAIC,EAAI,CACNC,WAAY,CAACP,EAAOO,YACpBC,cAAe,CAACR,EAAOQ,eACvBC,mBAAoB,CAACT,EAAOS,sBAE9B,IAAIC,GACDC,YAAY,yBACZC,QAAQN,GACRO,QACAC,MAAMC,IACL,IAAIC,EAAMD,EAAGE,YAAY,qBAAqB,GAC1CF,EAAGG,QAAQ,sBACblB,EAAOmB,MAAQ,GACfjB,EAAaiB,MAAQH,EAAII,OACzBxB,EAAMyB,QAAQ,+BAEdN,EAAGO,eAAe,oBACnB,GAEP,wiDC9DA,MAAM1B,EAAQC,EAAc,CAAEC,SAAU,YAAaC,SAAU,MAC3D,IAAAwB,EAAWpB,EAAI,IACfqB,EAAiBrB,EAAI,CAAA,GACrBC,EAAYD,GAAI,GACpB,SAASsB,KACP,IAAIf,GACDC,YAAY,iCACZC,QAAQ,CAAEc,aAAcH,EAASJ,QACjCN,QACAC,MAAMC,IACL,IAAIC,EAAMD,EAAGE,YAAY,6BAA6B,GAClDF,EAAGG,QAAQ,6BACTF,GAAOA,EAAII,QACbI,EAAeL,MAAQH,EAAII,OAC3BG,EAASJ,MAAQ,GACjBvB,EAAMyB,QAAQ,kCAEdzB,EAAM+B,MAAM,yBAGdZ,EAAGO,eAAe,4BACnB,GAEP,u3BC7BM,MAAAM,EAASzB,EAAI,UACDA,EAAA,CAChB,CACE0B,MAAO,eAET,CACEA,MAAO"}