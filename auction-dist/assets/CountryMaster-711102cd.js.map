{"version":3,"file":"CountryMaster-711102cd.js","sources":["../../src/views/masters/CountryMaster.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <template v-if=\"flag===0\">\r\n            <div class=\"card\">\r\n                <DataTable \r\n                responsiveLayout=\"scroll\" \r\n                v-model:filters=\"filters\" \r\n                :value=\"country\" \r\n                paginator \r\n                :rows=\"10\" \r\n                :rowsPerPageOptions=\"[5, 10, 20, 50]\"\r\n                showGridlines\r\n                dataKey=\"id\"\r\n                filterDisplay=\"row\" \r\n                :loading=\"loading\" \r\n                :globalFilterFields=\"['countryId', 'countryName', 'countryCode', 'countryShortName', 'countryTelephoneCode', 'nationality']\">\r\n\r\n                    <template #header>\r\n                        <div class=\"flex justify-content-between\">\r\n\r\n                            <div class=\"mr-auto\">\r\n                                <span class=\"p-input-icon-left\">\r\n                                    <i class=\"pi pi-search\" />\r\n                                    <InputText v-model=\"filters['global'].value\" placeholder=\"Keyword Search\" />\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div class=\"flex flex-wrap align-items-center justify-content-center\">\r\n                                <span class=\"flex align-items-center\">\r\n                                    <h1 class=\"mr-2\">COUNTRY MASTER</h1>\r\n                                </span>\r\n                            </div>\r\n                            \r\n                            <div class=\"ml-auto\">\r\n                                <span class=\"p-buttonset\">\r\n                                    <Button @click=\"changeFlag(1)\" label=\"Add\" icon=\"pi pi-trash\" />\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </template>\r\n\r\n                    <template #empty>No country found.</template>\r\n\r\n                    <template #loading>Loading country data. Please wait.</template>\r\n                    \r\n                    <Column field=\"countryName\" header=\"Country Name\" style=\"min-width: 12rem\">\r\n                        <template #body=\"{ data }\">\r\n                            {{ data.countryName }}\r\n                        </template>\r\n                        <template #filter=\"{ filterModel, filterCallback }\">\r\n                            <InputText v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n                                placeholder=\"Country Name\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"countryShortName\" header=\"Country Short Name\" style=\"min-width: 12rem\">\r\n                        <template #body=\"{ data }\">\r\n                            {{ data.countryShortName }}\r\n                        </template>\r\n                        <template #filter=\"{ filterModel, filterCallback }\">\r\n                            <InputText v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n                                placeholder=\"Short Name\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"countryTelephoneCode\" header=\"Country Telephone Code\" style=\"min-width: 12rem\">\r\n                        <template #body=\"{ data }\">\r\n                            {{ data.countryTelephoneCode }}\r\n                        </template>\r\n                        <template #filter=\"{ filterModel, filterCallback }\">\r\n                            <InputText v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n                                placeholder=\"Telephone Code\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"nationality\" header=\"nationality\" style=\"min-width: 12rem\">\r\n                        <template #body=\"{ data }\">\r\n                            {{ data.nationality }}\r\n                        </template>\r\n                        <template #filter=\"{ filterModel, filterCallback }\">\r\n                            <InputText v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n                                placeholder=\"nationality\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column header=\"Actions\" style=\"min-width:12rem\">\r\n\r\n                        <template #body=\"{ data }\">\r\n\r\n                            <span class=\"p-buttonset\">\r\n                                <Button @click=\"handleEditClick(data)\" label=\"Edit\" icon=\"pi pi-trash\" />\r\n                            </span>\r\n\r\n                            <!-- <span class=\"p-buttonset\">\r\n                                <Button  @click=\"deleteData(data), reloadPage()\" label=\"Delete\" icon=\"pi pi-trash\" />\r\n                            </span> -->\r\n\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n            </div>\r\n        </template>\r\n        <template v-else-if=\"flag === 1\">\r\n        <div class=\"flex flex-column gap-2 box-login mx-auto p-8 max-w-2xl rounded-xl bg-white shadow\">\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"countryName\">Country Name</label>\r\n                        <InputText id=\"countryName\" v-model=\"countryData.countryName\" />\r\n                        <small id=\"username-help\">Enter Country name E.g India</small>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"countryCode\">Country Code</label>\r\n                        <InputText id=\"countryCode\" v-model=\"countryData.countryCode\" />\r\n                        <small id=\"username-help\">Enter Country Code E.g 91</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/3\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"countryShortName\">Country Short Name</label>\r\n                        <InputText id=\"countryShortName\" v-model=\"countryData.countryShortName\" />\r\n                        <small id=\"username-help\">Enter Country Shortname E.g IN</small>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/3\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"telephoneCode\">Country Telephone Code</label>\r\n                        <InputText id=\"telephoneCode\" v-model=\"countryData.countryTelephoneCode\" />\r\n                        <small id=\"username-help\">Enter Country Telephone code E.g +91</small>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/3\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"nationality\">nationality</label>\r\n                        <InputText id=\"nationality\" v-model=\"countryData.nationality\" />\r\n                        <small id=\"username-help\">Enter nationality E.g Indian</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                        <Button @click=\"submitForm(countryData), changeFlag(0), reloadPage()\" icon=\"pi pi-check\" label=\"Submit\"></Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                    <Button @click=\"changeFlag(0), reloadPage()\" icon=\"pi pi-check\" label=\"Cancel\"></Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                                \r\n        </div>\r\n        </template>\r\n        <template v-else-if=\"flag === 2\">\r\n        <div class=\"flex flex-column gap-2 box-login mx-auto p-8 max-w-2xl rounded-xl bg-white shadow\">\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"countryName\">Country Name</label>\r\n                        <InputText id=\"countryName\" v-model=\"countryData.countryName\" />\r\n                        <small id=\"username-help\">Enter Country name E.g India</small>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"countryCode\">Country Code</label>\r\n                        <InputText id=\"countryCode\" v-model=\"countryData.countryCode\" />\r\n                        <small id=\"username-help\">Enter Country Code E.g 91</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/3\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"countryShortName\">Country Short Name</label>\r\n                        <InputText id=\"countryShortName\" v-model=\"countryData.countryShortName\" />\r\n                        <small id=\"username-help\">Enter Country Shortname E.g IN</small>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/3\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"telephoneCode\">Country Telephone Code</label>\r\n                        <InputText id=\"telephoneCode\" v-model=\"countryData.countryTelephoneCode\" />\r\n                        <small id=\"username-help\">Enter Country Telephone code E.g +91</small>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/3\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"nationality\">nationality</label>\r\n                        <InputText id=\"nationality\" v-model=\"countryData.nationality\" />\r\n                        <small id=\"username-help\">Enter nationality E.g Indian</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                        <Button @click=\"updateData(countryData), changeFlag(0), reloadPage()\" icon=\"pi pi-check\" label=\"Submit\"></Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"w-1/2\">\r\n                    <div class=\"fm-group\">\r\n                        <Button @click=\"changeFlag(0), reloadPage()\" icon=\"pi pi-check\" label=\"Cancel\"></Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </template>\r\n</div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { FilterMatchMode } from 'primevue/api';\r\nimport DataTable from 'primevue/datatable';\r\nimport Column from 'primevue/column';\r\nimport InputText from 'primevue/inputtext';\r\nimport MQL from '@/plugins/mql.js';\r\nimport Button from 'primevue/button';\r\nimport ScrollTop from 'primevue/scrolltop';\r\nimport ScrollPanel from 'primevue/scrollpanel';\r\nimport { useToast } from 'primevue/usetoast';\r\n\r\n\r\n// export default {\r\n//     components: {\r\n//         DataTable,\r\n//         Column,\r\n//         Button,\r\n//         ScrollTop,\r\n//         ScrollPanel,\r\n//         InputText,\r\n        \r\n//     },\r\n//     setup() {\r\n        const country = ref([]);\r\n        const loading = ref(true);\r\n        const toast = useToast();\r\n        var flag = ref(0)\r\n        const filters = ref({\r\n            global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n            nationality: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            countryTelephoneCode: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            countryShortName: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            countryName: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n\r\n        });\r\n        const countryData = ref({\r\n        countryName: '',\r\n        countryCode: '',\r\n        countryShortName: '',\r\n        countryTelephoneCode: '',\r\n        nationality: ''\r\n      });\r\n\r\n      function handleEditClick(rowData) {\r\n        countryData.value = {...rowData}\r\n        // Switch to the edit mode\r\n        changeFlag(2);\r\n        }\r\n\r\n        function updateData(countryData){\r\n                // Perform form Edit logic here\r\n                new MQL()\r\n                    .useCoreServer()\r\n                    .setActivity('o.[UpdateCountryById]')\r\n                    .setData(countryData)\r\n                    .fetch()\r\n                    .then((rs) => {\r\n                    let res = rs.getActivity('UpdateCountryById', true);\r\n                    if (rs.isValid('UpdateCountryById')) {\r\n                        // Show success toast\r\n                        showSuccess\r\n                        //rs.showToastSuccess('Form Submitted Successfully.');\r\n                    } else {\r\n                        // Show error toast\r\n                        showError\r\n                        //rs.showErrorToast('InsertCoInsertDistrictuntry');\r\n                    }\r\n                    loading.value = false; // Move loading to here\r\n                    })\r\n                }\r\n\r\n\r\n      const submitForm = (countryData) => {\r\n        // Check for null values in countryData\r\n\r\n        if (countryData.countryName==\"\") {\r\n            \r\n            showError\r\n            //showToastError('Form contains null values.');\r\n            return;\r\n        }else{\r\n           \r\n        // Perform form submission logic here\r\n        new MQL()\r\n            .useCoreServer()\r\n            .setActivity('o.[InsertCountry]')\r\n            .setData(countryData)\r\n            .fetch()\r\n            .then((rs) => {\r\n            let res = rs.getActivity('InsertCountry', true);\r\n            if (rs.isValid('InsertCountry')) {\r\n                // Show success toast\r\n                showSuccess\r\n                //showToastSuccess('Form Submitted Successfully.');\r\n            } else {\r\n                // Show error toast\r\n                showError\r\n                //rs.showErrorToast('InsertCountry');\r\n            }\r\n            loading.value = false; // Move loading to here\r\n            })\r\n        \r\n            .catch((error) => {\r\n                showError\r\n            //showToastError('An error occurred during form submission.');\r\n            loading.value = false;\r\n            });\r\n\r\n        }\r\n            };\r\n\r\n\r\n        function getData() {\r\n            new MQL()\r\n                .useCoreServer()\r\n                .setActivity('o.[FetchAllCountries]')\r\n                .setData()\r\n                .fetch()\r\n                .then((rs) => {\r\n                    let res = rs.getActivity('FetchAllCountries', true);\r\n                    if (rs.isValid('FetchAllCountries')) {\r\n                        showSuccess\r\n                        country.value = res.result;\r\n                    } else {\r\n                        showError\r\n                       // rs.showErrorToast('FetchAllCountries');\r\n                    }\r\n                    loading.value = false; // Move loading to here\r\n                });\r\n        }\r\n\r\n        function deleteData(rowData) {\r\n           // countryData.value = {...rowData}\r\n            new MQL()\r\n                .useCoreServer()\r\n                .setActivity('o.[DeleteCountryById]')\r\n                .setData(rowData)\r\n                .fetch()\r\n                .then((rs) => {\r\n                    let res = rs.getActivity('DeleteCountryById', true);\r\n                    if (rs.isValid('DeleteCountryById')) {\r\n                        showSuccess\r\n                        \r\n                    } else {\r\n                        showError\r\n                       // rs.showErrorToast('FetchAllCountries');\r\n                    }\r\n                    loading.value = false; // Move loading to here\r\n                });\r\n        }\r\n\r\n        function changeFlag(newValue){\r\n            flag.value = newValue\r\n            ref(flag)\r\n        }\r\n\r\n        function reloadPage() {\r\n        window.location.reload();\r\n        }\r\n\r\n        const hasNullValues = (data) => {\r\n        for (const key in data) {\r\n            if (data[key] === null || data[key] === undefined) {\r\n            return true;\r\n            }\r\n        }\r\n        return false;\r\n        };\r\n\r\n        // const showToastSuccess = (message) => {\r\n        // showToast({ severity: 'success', summary: 'Success', detail: message });\r\n        // };\r\n\r\n        // const showToastError = (message) => {\r\n        // showToast({ severity: 'error', summary: 'Error', detail: message });\r\n        // };\r\n\r\n        // const showToast = (options) => {\r\n        // const toast = this.$refs.toast;\r\n        // if (toast) {\r\n        //     toast.add(options);\r\n        // }\r\n        // };\r\n\r\n\r\n        const showSuccess = () => {\r\n                toast.add({ severity: 'success', summary: 'Success Message', detail: 'Message Content', life: 3000 });\r\n            };\r\n\r\n        const showInfo = () => {\r\n                toast.add({ severity: 'info', summary: 'Info Message', detail: 'Message Content', life: 3000 });\r\n            };\r\n\r\n        const showWarn = () => {\r\n                toast.add({ severity: 'warn', summary: 'Warn Message', detail: 'Message Content', life: 3000 });\r\n            };\r\n\r\n        const showError = () => {\r\n                toast.add({ severity: 'error', summary: 'Error Message', detail: 'Message Content', life: 3000 });\r\n            };\r\n\r\n\r\n        onMounted(() => {\r\n            getData();\r\n        });\r\n\r\n        // return {\r\n        //     country,\r\n        //     loading,\r\n        //     filters,\r\n        //     countryData,\r\n        //     flag,\r\n        //     toast,\r\n        //     showSuccess,\r\n        //     showInfo,\r\n        //     showWarn,\r\n        //     showError,\r\n        //     changeFlag,\r\n        //     reloadPage,\r\n        //     updateData,\r\n        //     handleEditClick,\r\n        //     submitForm,\r\n        //     deleteData\r\n        // };\r\n//     },\r\n// };\r\n</script>\r\n\r\n<style scoped>\r\n  .flex-column {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .gap-2 {\r\n    gap: 2rem; /* Adjust the gap as needed */\r\n  }\r\n\r\n  .form-row {\r\n    margin-bottom: 1rem; /* Adjust the margin as needed */\r\n  }\r\n</style>"],"names":["country","ref","loading","useToast","flag","filters","global","value","matchMode","FilterMatchMode","CONTAINS","nationality","STARTS_WITH","countryTelephoneCode","countryShortName","countryName","countryData","countryCode","changeFlag","newValue","reloadPage","window","location","reload","onMounted","MQL","useCoreServer","setActivity","setData","fetch","then","rs","res","getActivity","isValid","result","rowData","catch","error"],"mappings":"w/FAgPc,MAAAA,EAAUC,EAAI,IACdC,EAAUD,GAAI,GACKE,IACrB,IAAAC,EAAOH,EAAI,GACf,MAAMI,GAAUJ,EAAI,CAChBK,OAAQ,CAAEC,MAAO,KAAMC,UAAWC,EAAgBC,UAClDC,YAAa,CAAEJ,MAAO,KAAMC,UAAWC,EAAgBG,aACvDC,qBAAsB,CAAEN,MAAO,KAAMC,UAAWC,EAAgBG,aAChEE,iBAAkB,CAAEP,MAAO,KAAMC,UAAWC,EAAgBG,aAC5DG,YAAa,CAAER,MAAO,KAAMC,UAAWC,EAAgBG,eAGrDI,GAAcf,EAAI,CACxBc,YAAa,GACbE,YAAa,GACbH,iBAAkB,GAClBD,qBAAsB,GACtBF,YAAa,KA+Gb,SAASO,GAAWC,GAChBf,EAAKG,MAAQY,EACblB,EAAIG,EACP,CAED,SAASgB,KACTC,OAAOC,SAASC,QACf,QA4CDC,GAAU,MAzFN,IAAIC,GACCC,gBACAC,YAAY,yBACZC,UACAC,QACAC,MAAMC,IACH,IAAIC,EAAMD,EAAGE,YAAY,qBAAqB,GAC1CF,EAAGG,QAAQ,uBAEXlC,EAAQO,MAAQyB,EAAIG,QAKxBjC,EAAQK,OAAQ,CAAA,25EApFL6B,IACXpB,GAAAT,MAAQ,IAAI6B,QAExBlB,GAAW,GAHb,IAAyBkB,2mCAgCM,KAHXpB,YAGFD,cAQhB,IAAIU,GACCC,gBACAC,YAAY,qBACZC,QAAQZ,GACRa,QACAC,MAAMC,IACMA,EAAAE,YAAY,iBAAiB,GACtCF,EAAGG,QAAQ,iBASfhC,EAAQK,OAAQ,CAAA,IAGf8B,OAAOC,IAGRpC,EAAQK,OAAQ,CAAA,eAjCH,IAACS,8rCAvBEA,YAEZ,IAAIS,GACCC,gBACAC,YAAY,yBACZC,QAAQZ,GACRa,QACAC,MAAMC,IACMA,EAAAE,YAAY,qBAAqB,GAC1CF,EAAGG,QAAQ,qBASfhC,EAAQK,OAAQ,CAAA,eAlB5B,IAAoBS"}