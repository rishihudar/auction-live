{"version":3,"file":"AuctionDetailsForAdmin-14f9380c.js","sources":["../../src/views/admin/AuctionDetailsForAdmin.vue"],"sourcesContent":["<template>\r\n    <div class=\"card\">\r\n\r\n        <div class=\"profile-header\">\r\n            <h2>Upcoming Auctions</h2>\r\n        </div>\r\n        <div class=\"table-custom\">\r\n\r\n            <div class=\"box-section\">\r\n                <div class=\"bs-header\">\r\n                    Auction Details\r\n                </div>\r\n                <div class=\"bs-item-holder\">\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Auction Type:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.auctionType }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Auction Method:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.auctionMethodName }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Auction Process:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.auctionProcessName }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Bid Placement:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.bidPlacementName }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">District:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.district }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">MC:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.mcName }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Location:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.location }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Area:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.area }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Participants:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.participants }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Total EMD Paid For:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.emdPaid }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Properties Available:</div>\r\n                        <div class=\"bs-value\">Upto {{ auctionDetails.itemCount }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">EMD:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.eventEmdProcessingFees }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Reserve Price:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.reservePrice }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-label\">Modifier Value:</div>\r\n                        <div class=\"bs-value\">{{ auctionDetails.modifierValue }}</div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\" v-for=\"(doc, index) in auctionDetails.auctionDocuments\"\r\n                        :key=\"index\">\r\n                        <div class=\"bs-buttons\">\r\n                            <!-- <a :href=\"doc.documentPath\" class=\"btn btn-sm btn-secondary\">{{ doc.documentTypeName }}</a> -->\r\n                            <button @click=\"DownloadDocument(doc.documentPath)\" class=\"btn btn-sm btn-secondary\">{{ doc.documentTypeName }}</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-buttons\">\r\n                            <Button @click=\"visible6 = true\">\r\n                                Available Properties\r\n\r\n                                <Dialog v-model:visible=\"visible6\" modal \r\n                                    :style=\"{ width: '50rem' }\">\r\n\r\n                                    <div class=\"box-section\">\r\n                                        <div class=\"bs-header\">\r\n                                            Available Properties\r\n                                        </div>\r\n                                        <div class=\"bs-item-holder\">\r\n                                            <div class=\"bs-item col-span-6\" v-for=\"item in auctionDetails.item\" :key=\"item.id\">\r\n                                                <div class=\"bs-label\">Item Name:</div>\r\n                                                <div class=\"bs-value\"> {{ item.item }}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <span >\r\n                                        {{ item }}\r\n                                    </span>\r\n                                     </Dialog>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"bs-item col-span-6\">\r\n                        <div class=\"bs-buttons\">\r\n                            <schedule-button :entity-id=\"loginStore.loginDetails.entityId\"\r\n                                :auction-id=\"auctionDetails.auctionCode\" :item-list=\"auctionDetails.item\"\r\n                                v-model:startDate=\"auctionDetails.auctionStartDate\"\r\n                                v-model:endDate=\"auctionDetails.auctionEndDate\"\r\n                                v-model:users=\"auctionDetails.users\"></schedule-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport MQL from \"@/plugins/mql.js\";\r\nimport Dialog from 'primevue/dialog';\r\nimport { fetchAuctionStatus } from \"../../plugins/helpers\";\r\nimport ScheduleButton from '@/components/SchedulerButton.vue'\r\nimport { login } from \"../../store/modules/login.js\";\r\nimport MQLCdn from '@/plugins/mqlCdn.js';\r\n\r\nconst visible6 = ref(false);\r\nconst expandedRows = ref([]);\r\nconst auctionDetails = ref({});\r\nimport { defineProps } from 'vue';\r\nconst loginStore = login();\r\nconst { auctionId } = defineProps({\r\n    auctionId: Number\r\n})\r\n\r\nasync function FetchAuctionDetailsByAuctionIdAdmin() {\r\n    var participantsStatusId = await fetchAuctionStatus(\"AUCTION_PARTICIPATION\");\r\n    var emdStatusId = await fetchAuctionStatus(\"AUCTION_EMD_FEES_PAID\");\r\n    console.log(participantsStatusId.result.statusId, emdStatusId.result.statusId, auctionId, \"participantsStatusId, emdStatusId, auctionId\");\r\n    new MQL()\r\n        .useManagementServer()\r\n        .setActivity(\"o.[FetchAuctionDetailsByAuctionIdAdmin]\")\r\n        .setData({\r\n            auctionId: auctionId,\r\n            participantStatusId: participantsStatusId.result.statusId,\r\n            emdPaidStatusId: emdStatusId.result.statusId\r\n        })\r\n        .fetch()\r\n        .then(rs => {\r\n            let res = rs.getActivity(\"FetchAuctionDetailsByAuctionIdAdmin\", true)\r\n            if (rs.isValid(\"FetchAuctionDetailsByAuctionIdAdmin\")) {\r\n                console.log(res)\r\n                res.result.fetchAuctionDetails['auctionDocuments'] = res.result.fetchDocuments\r\n                res.result.fetchAuctionDetails.item = JSON.parse(\"[\" + res.result.fetchAuctionDetails.item + \"]\");\r\n                res.result.fetchAuctionDetails.participants = res.result.participationNEMD.participants;\r\n                res.result.fetchAuctionDetails.emdPaid = res.result.participationNEMD.emdPaid;\r\n                res.result.fetchAuctionDetails.users = res.result.users.map(el => el.userId);\r\n                const auctionDetailObj = res.result.fetchAuctionDetails;\r\n                console.log(auctionDetailObj, \"auctionDetails\")\r\n\r\n                // Map documents to an object with documentTypeName as key and documentPath as value\r\n                const documentsMap = {};\r\n                auctionDetailObj.auctionDocuments.forEach(doc => {\r\n                    documentsMap[doc.documentTypeName] = doc.documentPath;\r\n                });\r\n\r\n                // Assign documentsMap to auctionDetailObj\r\n                auctionDetailObj.documentsMap = documentsMap;\r\n\r\n                auctionDetails.value = auctionDetailObj;\r\n                console.log(auctionDetails.value, \"auctionDetails.value********\");\r\n                console.log(auctionDetails.value, \"auctionDetails.value********\");\r\n\r\n                // You can access document paths using auctionDetail.documentsMap in the template\r\n            } else {\r\n                rs.showErrorToast(\"FetchAuctionDetailsByAuctionIdAdmin\")\r\n            }\r\n        })\r\n}\r\nfunction DownloadDocument(url) {\r\n    console.log(url, \"url\")\r\n        if (url !== \"\") {\r\n          new MQLCdn()\r\n            .setCDNPath(url)\r\n            .enablePageLoader(true)\r\n            .downloadFile(\"downloadBtn\")\r\n            .then((res) => {\r\n              if (!res.isValid()) {\r\n                res.showErrorToast();\r\n              }\r\n            });\r\n        }else{\r\n          toaster.error(\"File can'nt be downloaded!\")\r\n        }\r\n      };\r\nonMounted(() => {\r\n    FetchAuctionDetailsByAuctionIdAdmin()\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.document-link {\r\n    color: blue;\r\n    text-decoration: underline;\r\n}\r\n\r\n.profile-field label {\r\n    display: inline-block;\r\n    width: 120px;\r\n    /* Adjust width as needed */\r\n    margin-right: 10px;\r\n    /* Example margin between label and span */\r\n}\r\n\r\n.profile-field {\r\n    margin-bottom: 10px;\r\n    /* Example margin */\r\n    border-bottom: 1px solid #ccc;\r\n    /* Add border to separate fields */\r\n}\r\n</style>"],"names":["visible6","ref","auctionDetails","loginStore","login","auctionId","__props","onMounted","async","participantsStatusId","fetchAuctionStatus","emdStatusId","console","log","result","statusId","MQL","useManagementServer","setActivity","setData","participantStatusId","emdPaidStatusId","fetch","then","rs","res","getActivity","isValid","fetchAuctionDetails","fetchDocuments","item","JSON","parse","participants","participationNEMD","emdPaid","users","map","el","userId","auctionDetailObj","documentsMap","auctionDocuments","forEach","doc","documentTypeName","documentPath","value","showErrorToast","FetchAuctionDetailsByAuctionIdAdmin","url","MQLCdn","setCDNPath","enablePageLoader","downloadFile","toaster","error"],"mappings":"olFAgIM,MAAAA,EAAWC,GAAI,GACAA,EAAI,IACnB,MAAAC,EAAiBD,EAAI,CAAA,GAErBE,EAAaC,KACbC,UAAEA,IAAcC,SAgEtBC,GAAU,MA5DVC,iBACQ,IAAAC,QAA6BC,EAAmB,yBAChDC,QAAoBD,EAAmB,yBACnCE,QAAAC,IAAIJ,EAAqBK,OAAOC,SAAUJ,EAAYG,OAAOC,SAAUV,GAAW,iDAC1F,IAAIW,GACCC,sBACAC,YAAY,2CACZC,QAAQ,CACLd,aACAe,oBAAqBX,EAAqBK,OAAOC,SACjDM,gBAAiBV,EAAYG,OAAOC,WAEvCO,QACAC,MAAWC,IACR,IAAIC,EAAMD,EAAGE,YAAY,uCAAuC,GAC5D,GAAAF,EAAGG,QAAQ,uCAAwC,CACnDf,QAAQC,IAAIY,GACZA,EAAIX,OAAOc,oBAAsC,iBAAIH,EAAIX,OAAOe,eAC5DJ,EAAAX,OAAOc,oBAAoBE,KAAOC,KAAKC,MAAM,IAAMP,EAAIX,OAAOc,oBAAoBE,KAAO,KAC7FL,EAAIX,OAAOc,oBAAoBK,aAAeR,EAAIX,OAAOoB,kBAAkBD,aAC3ER,EAAIX,OAAOc,oBAAoBO,QAAUV,EAAIX,OAAOoB,kBAAkBC,QAClEV,EAAAX,OAAOc,oBAAoBQ,MAAQX,EAAIX,OAAOsB,MAAMC,KAAUC,GAAAA,EAAGC,SAC/D,MAAAC,EAAmBf,EAAIX,OAAOc,oBAC5BhB,QAAAC,IAAI2B,EAAkB,kBAG9B,MAAMC,EAAe,CAAA,EACJD,EAAAE,iBAAiBC,SAAeC,IAChCH,EAAAG,EAAIC,kBAAoBD,EAAIE,YAAA,IAI7CN,EAAiBC,aAAeA,EAEhCvC,EAAe6C,MAAQP,EACf5B,QAAAC,IAAIX,EAAe6C,MAAO,gCAC1BnC,QAAAC,IAAIX,EAAe6C,MAAO,+BAGlD,MACgBvB,EAAGwB,eAAe,sCACrB,GAEb,CAkByCC,EAAA,s9BAjBfC,iBACdtC,QAAAC,IAAIqC,EAAK,YACD,KAARA,GACF,IAAIC,GACDC,WAAWF,GACXG,kBAAiB,GACjBC,aAAa,eACb/B,MAAME,IACAA,EAAIE,WACPF,EAAIuB,gBACL,IAGLO,QAAQC,MAAM,+BAbxB,IAA0BN"}