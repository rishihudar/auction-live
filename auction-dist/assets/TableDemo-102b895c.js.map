{"version":3,"file":"TableDemo-102b895c.js","sources":["../../src/components/MTable.vue"],"sourcesContent":["<template>\r\n  <div id=\"mTable\">\r\n    <div class=\"box-login mx-auto p-8 max-w-2xl rounded-xl bg-white shadow\">\r\n        <h3 class=\"mb-4\">\r\n            {{ msg }}\r\n        </h3>\r\n        <div class=\"overflow-x-auto\">\r\n            <table class=\"table w-full\">\r\n            <thead>\r\n                <tr>\r\n                <th>id</th>\r\n                <th>age</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody v-for=\"(item, index) in itemList\" v-bind:key=\"index\">\r\n                <tr>\r\n                <th>{{ item.id }}</th>\r\n                <td>{{ item.age }}</td>\r\n                </tr>\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MQL from \"@/plugins/mql.js\";\r\nimport { ref, toRefs, onMounted } from \"vue\";\r\nconst props = defineProps([\"msg\", \"activity\", \"restriction\", \"params\"]);\r\nlet itemList = ref([]);\r\n\r\nonMounted(() => {\r\n  getActivityData();\r\n});\r\n// call for activity specific mql\r\nfunction getActivityData() {\r\n  new MQL()\r\n    .setActivity(props.restriction + \".[\" + props.activity + \"]\")\r\n    // In case params not provided it will go with empty object\r\n    .setData(props.params || {})\r\n    .fetch()\r\n    .then((rs) => {\r\n      let res = rs.getActivity(props.activity, false);\r\n      if (rs.isValid(props.activity)) {\r\n        // Check if the request is of query type\r\n        if (props.activity.startsWith(\"query_\")) {\r\n          // Request is of query type\r\n          itemList.value = res;\r\n        } else {\r\n          // Request is of activity type\r\n          itemList.value = res.result[props.resultKey || []];\r\n        }\r\n      } else {\r\n        // In case there is error from server side\r\n        rs.showErrorToast(props.activity);\r\n      }\r\n    });\r\n}\r\n</script>\r\n"],"names":["props","__props","itemList","ref","onMounted","MQL","setActivity","restriction","activity","setData","params","fetch","then","rs","res","getActivity","isValid","startsWith","value","result","resultKey","showErrorToast"],"mappings":"mbA6BA,MAAMA,EAAQC,EACV,IAAAC,EAAWC,EAAI,WAEnBC,GAAU,MAKJ,IAAAC,GACDC,YAAYN,EAAMO,YAAc,KAAOP,EAAMQ,SAAW,KAExDC,QAAQT,EAAMU,QAAU,IACxBC,QACAC,MAAMC,IACL,IAAIC,EAAMD,EAAGE,YAAYf,EAAMQ,UAAU,GACrCK,EAAGG,QAAQhB,EAAMQ,UAEfR,EAAMQ,SAASS,WAAW,UAE5Bf,EAASgB,MAAQJ,EAGjBZ,EAASgB,MAAQJ,EAAIK,OAAOnB,EAAMoB,WAAa,IAI9CP,EAAAQ,eAAerB,EAAMQ,SACzB"}