{"version":3,"file":"TalukaMaster-b9b03c93.js","sources":["../../src/views/masters/TalukaMaster.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <template v-if=\"flag === 0\">\r\n            <div class=\"card\">\r\n                <DataTable responsiveLayout=\"scroll\" v-model:filters=\"filters\" :value=\"taluka\" paginator :rows=\"10\"\r\n                    dataKey=\"id\" filterDisplay=\"row\" :loading=\"loading\" :globalFilterFields=\"['talukaName',]\">\r\n                    <template #header>\r\n                        <div class=\"flex justify-content-end\">\r\n                            <span class=\"p-input-icon-left\">\r\n                                <i class=\"pi pi-search\" />\r\n                                <InputText v-model=\"filters['global'].value\" placeholder=\"Keyword Search\" />\r\n                            </span>\r\n                            <div class=\"ml-auto\">\r\n                                <span class=\"p-buttonset\">\r\n                                    <Button label=\"ADD\" @click=\"changeFlag(1)\" icon=\"pi pi-trash\" />\r\n                                </span>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </template>\r\n                    <!-- <template #empty>No talukas found.</template> -->\r\n                    <template #loading>Loading taluka data. Please wait.</template>\r\n                    <Column field=\"talukaName\" header=\"Taluka Name\" style=\"min-width: 12rem\">\r\n                        <template #body=\"{ data }\">\r\n                            {{ data.talukaName }}\r\n                        </template>\r\n                        <template #filter=\"{ filterModel, filterCallback }\">\r\n                            <InputText v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n                                placeholder=\"Search by name\" />\r\n                        </template>\r\n                    </Column>\r\n\r\n\r\n                    <Column header=\"Actions\" style=\"min-width:12rem\">\r\n\r\n                        <template #body=\"{ data }\">\r\n\r\n                            <span class=\"p-buttonset\">\r\n                                <Button label=\"Edit\" @click=\"editTaluka(data), changeFlag(2)\" icon=\"pi pi-trash\" />\r\n                            </span>\r\n                            <!-- <span class=\"p-buttonset\">\r\n                                <Button label=\"Delete\" @click=\"deleteTaluka(data),reloadPage()\" icon=\"pi pi-trash\" />\r\n                            </span> -->\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n\r\n            </div>\r\n        </template>\r\n        <template v-else-if=\"flag === 1\">\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"districtName\">District Name</label>\r\n                        <!-- Bind the selected district to talukaData.fklDistrictId -->\r\n                        <Dropdown v-model=\"talukaData.districtId\" optionValue=\"districtId\" :options=\"districts\"\r\n                            optionLabel=\"districtName\" placeholder=\"Select District Name\" class=\"w-full md:w-14rem\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"talukaName\">Taluka Name</label>\r\n                        <!-- Bind the state name to talukaData.vsStateName -->\r\n                        <InputText id=\"talukaName\" v-model=\"talukaData.talukaName\" />\r\n                        <small id=\"talukaName-help\">Enter Taluka Name (e.g., Nandurbar)</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <Button @click=\"insertTaluka(talukaData), changeFlag(0), reloadPage()\" icon=\"pi pi-check\"\r\n                            label=\"Submit\"></Button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <Button @click=\"changeFlag(0), reloadPage()\" icon=\"pi pi-check\" label=\"Cancel\"></Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n\r\n        <template v-else-if=\"flag === 2\">\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"districtName\">District Name</label>\r\n                        <!-- Bind the selected district to talukaData.fklDistrictId -->\r\n                        <Dropdown v-model=\"talukaData.districtId\" optionValue=\"districtId\" :options=\"districts\"\r\n                            optionLabel=\"districtName\" placeholder=\"Select District Name\" class=\"w-full md:w-14rem\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <label for=\"talukaName\">taluka Name</label>\r\n                        <InputText id=\"talukaName\" v-model=\"talukaData.talukaName\" />\r\n                        <small id=\"talukaName-help\">Enter Taluka name E.g Nandurbar</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- <div>\r\n                    <h1>{{ talukaData }}</h1>\r\n                </div> -->\r\n            <div class=\"fm-row\">\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <Button @click=\" updateTaluka(talukaData), changeFlag(0), reloadPage()\" icon=\"pi pi-check\"\r\n                            label=\"Submit\"></Button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/4\">\r\n                    <div class=\"fm-group\">\r\n                        <Button @click=\"changeFlag(0), reloadPage()\" icon=\"pi pi-check\" label=\"Cancel\"></Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n\r\n    </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { FilterMatchMode } from 'primevue/api';\r\nimport DataTable from 'primevue/datatable';\r\nimport Column from 'primevue/column';\r\nimport InputText from 'primevue/inputtext';\r\nimport MQL from '@/plugins/mql.js';\r\nimport Button from 'primevue/button';\r\nimport Dropdown from 'primevue/dropdown';\r\n\r\nconst loading = ref(true);\r\nvar flag = ref(0);\r\n\r\nconst talukaData = ref({\r\n    talukaName: '',\r\n    districtId: '',\r\n});\r\nconst districts = ref([]);\r\nconst taluka = ref([]);\r\n\r\nconst filters = ref({\r\n    global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n    talukaName: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n});\r\n\r\nfunction changeFlag(newValue) {\r\n    flag.value = newValue\r\n    ref(flag)\r\n    console.log(\"getting from change function\", flag)\r\n}\r\n\r\nfunction FetchDistrictName() {\r\n    new MQL()\r\n        .setActivity('o.[FetchAllDistrict]')\r\n        .setData()\r\n        .fetch()\r\n        .then((rs) => {\r\n            let res = rs.getActivity('FetchAllDistrict', true);\r\n            if (rs.isValid('FetchAllDistrict')) {\r\n                console.log(res.result);\r\n                districts.value = res.result;\r\n\r\n            } else {\r\n                rs.showErrorToast('FetchAllDistrict');\r\n            }\r\n            loading.value = false; // Move loading to here\r\n        });\r\n}\r\nfunction FetchTalukaName() {\r\n    new MQL()\r\n        .setActivity('o.[FetchAllTaluka]')\r\n        .setData()\r\n        .fetch()\r\n        .then((rs) => {\r\n            let res = rs.getActivity('FetchAllTaluka', true);\r\n            if (rs.isValid('FetchAllTaluka')) {\r\n                console.log(res.result);\r\n                taluka.value = res.result;\r\n\r\n            } else {\r\n                rs.showErrorToast('FetchAllTaluka');\r\n            }\r\n            loading.value = false; // Move loading to here\r\n        });\r\n}\r\nfunction insertTaluka(talukaData) {\r\n    if (talukaData.talukaName == \"\") {\r\n        console.log(\"Please provide all Details\")\r\n\r\n    } else {\r\n        new MQL()\r\n            .setActivity('o.[InsertTaluka]')\r\n            .setData(talukaData)\r\n            .fetch()\r\n            .then((rs) => {\r\n                let res = rs.getActivity('InsertTaluka', true);\r\n                if (rs.isValid('InsertTaluka')) {\r\n                    console.log(res.result);\r\n                    console.log(\"talukaData from Insert\", talukaData);\r\n                    // Optionally, you can reload the page or update the state list after insertion\r\n                    // FetchTalukaName()\r\n                } else {\r\n                    rs.showErrorToast('InsertTaluka');\r\n                }\r\n                loading.value = false;\r\n            });\r\n    }\r\n}\r\nfunction updateTaluka(talukaData) {\r\n    new MQL()\r\n        .setActivity('o.[UpdateTalukaById]')\r\n        .setData(talukaData)\r\n        .fetch()\r\n        .then((rs) => {\r\n            let res = rs.getActivity('UpdateTalukaById', true);\r\n            if (rs.isValid('UpdateTalukaById')) {\r\n                console.log(res.result);\r\n                console.log(\"stateData update\", talukaData);\r\n\r\n            } else {\r\n                rs.showErrorToast('UpdateTalukaById');\r\n            }\r\n            loading.value = false;\r\n        });\r\n}\r\nfunction reloadPage() {\r\n    window.location.reload();\r\n    console.log(\"we are reloading page\")\r\n}\r\nfunction editTaluka(taluka) {\r\n    // Set talukaData to the values of the selected taluka\r\n    talukaData.value = { ...taluka };\r\n    console.log(\"from edit function\", talukaData)\r\n    // Update the flag to indicate edit mode\r\n    changeFlag(2);\r\n}\r\nfunction deleteTaluka(data) {\r\n    new MQL()\r\n        .setActivity('o.[DeleteTalukaById]')\r\n        .setData(data)\r\n        .fetch()\r\n        .then((rs) => {\r\n            let res = rs.getActivity('DeleteTalukaById', true);\r\n            if (rs.isValid('DeleteTalukaById')) {\r\n                console.log(res.result);\r\n            } else {\r\n                rs.showErrorToast('DeleteTalukaById');\r\n            }\r\n            loading.value = false;\r\n        });\r\n}\r\n\r\nonMounted(() => {\r\n    FetchTalukaName();\r\n    FetchDistrictName();\r\n\r\n});\r\n\r\n</script>\r\n  \r\n<style scoped>\r\n.flex-column {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.gap-2 {\r\n    gap: 2rem;\r\n    /* Adjust the gap as needed */\r\n}\r\n\r\n.form-row {\r\n    margin-bottom: 1rem;\r\n    /* Adjust the margin as needed */\r\n}\r\n</style>"],"names":["loading","ref","flag","talukaData","talukaName","districtId","districts","taluka","filters","global","value","matchMode","FilterMatchMode","CONTAINS","STARTS_WITH","changeFlag","newValue","console","log","reloadPage","window","location","reload","onMounted","MQL","setActivity","setData","fetch","then","rs","res","getActivity","isValid","result","showErrorToast"],"mappings":"2vCAoIM,MAAAA,EAAUC,GAAI,GAChB,IAAAC,EAAOD,EAAI,GAEf,MAAME,EAAaF,EAAI,CACnBG,WAAY,GACZC,WAAY,KAEVC,GAAYL,EAAI,IAChBM,GAASN,EAAI,IAEbO,GAAUP,EAAI,CAChBQ,OAAQ,CAAEC,MAAO,KAAMC,UAAWC,EAAgBC,UAClDT,WAAY,CAAEM,MAAO,KAAMC,UAAWC,EAAgBE,eAG1D,SAASC,GAAWC,GAChBd,EAAKQ,MAAQM,EACbf,EAAIC,GACIe,QAAAC,IAAI,+BAAgChB,EAChD,CA4EA,SAASiB,KACLC,OAAOC,SAASC,SAChBL,QAAQC,IAAI,wBAChB,QAwBAK,GAAU,MAnFF,IAAAC,GACCC,YAAY,sBACZC,UACAC,QACAC,MAAMC,IACH,IAAIC,EAAMD,EAAGE,YAAY,kBAAkB,GACvCF,EAAGG,QAAQ,mBACHf,QAAAC,IAAIY,EAAIG,QAChB1B,GAAOG,MAAQoB,EAAIG,QAGnBJ,EAAGK,eAAe,kBAEtBlC,EAAQU,OAAQ,CAAA,KA9BpB,IAAAc,GACCC,YAAY,wBACZC,UACAC,QACAC,MAAMC,IACH,IAAIC,EAAMD,EAAGE,YAAY,oBAAoB,GACzCF,EAAGG,QAAQ,qBACHf,QAAAC,IAAIY,EAAIG,QAChB3B,GAAUI,MAAQoB,EAAIG,QAGtBJ,EAAGK,eAAe,oBAEtBlC,EAAQU,OAAQ,CAAA,wnCAgERH,IAELJ,EAAAO,MAAQ,IAAKH,GAChBU,QAAAC,IAAI,qBAAsBf,GAElCY,GAAW,SALf,IAAoBR,ypBA3Ca,KADXJ,WACHC,WACXa,QAAQC,IAAI,+BAGZ,IAAIM,GACCC,YAAY,oBACZC,QAAQvB,GACRwB,QACAC,MAAMC,IACH,IAAIC,EAAMD,EAAGE,YAAY,gBAAgB,GACrCF,EAAGG,QAAQ,iBACHf,QAAAC,IAAIY,EAAIG,QACRhB,QAAAC,IAAI,yBAA0Bf,IAItC0B,EAAGK,eAAe,gBAEtBlC,EAAQU,OAAQ,CAAA,eAnBhC,IAAsBP,utBAuBAA,WAClB,IAAIqB,GACCC,YAAY,wBACZC,QAAQvB,GACRwB,QACAC,MAAMC,IACH,IAAIC,EAAMD,EAAGE,YAAY,oBAAoB,GACzCF,EAAGG,QAAQ,qBACHf,QAAAC,IAAIY,EAAIG,QACRhB,QAAAC,IAAI,mBAAoBf,IAGhC0B,EAAGK,eAAe,oBAEtBlC,EAAQU,OAAQ,CAAA,eAd5B,IAAsBP"}