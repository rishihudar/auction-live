{"version":3,"file":"AuctionList-796e450e.js","sources":["../../src/views/admin/AuctionList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"page-header\">\r\n            <div class=\"ph-text\">\r\n                <h2 class=\"title\">Auction List</h2>\r\n                <Breadcrumb :model=\"crumbs\">\r\n                    <template #item=\"{ item, props }\">\r\n                        <router-link v-if=\"item.route\" v-slot=\"{ href, navigate }\" :to=\"item.route\" custom>\r\n                            <a :href=\"href\" v-bind=\"props.action\" @click=\"navigate\">\r\n                                <!-- <span :class=\"[item.icon, 'text-color']\" /> -->\r\n                                <span class=\"bi-label\">{{ item.label }}</span>\r\n                            </a>\r\n                        </router-link>\r\n                        <span v-else v-bind=\"props.action\">\r\n                            <span class=\"bi-label\">{{ item.label }}</span>\r\n                        </span>\r\n                    </template>\r\n                </Breadcrumb>\r\n            </div>\r\n            <div class=\"ph-action\">\r\n                <Button @click=\"navigateToRoute\" class=\"btn btn-primary btn-add\">\r\n                    <fa-plus></fa-plus>\r\n                    Create New Auction\r\n                </Button>\r\n            </div>\r\n        </div>\r\n        <div class=\"table-custom\">\r\n            <DataTable v-model:expandedRows=\"expandedRows\" :value=\"customers\" :filters=\"filters\" sortMode=\"multiple\"\r\n                paginator paginatorPosition=\"both\" :rows=\"5\" :rowsPerPageOptions=\"[5, 10, 20, 50]\"\r\n                paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords}\">\r\n                <template #paginatorstart>\r\n                    <div class=\"fm-inner\">\r\n                        <InputText v-model=\"filters['global'].value\" placeholder=\"Search...\" />\r\n                        <fa-magnifying-glass class=\"fm-icon fm-prefix\"></fa-magnifying-glass>\r\n                    </div>\r\n                </template>\r\n                <Column field=\"auctionCode\" header=\"Auction Code\" sortable></Column>\r\n                <Column field=\"auctionDescription\" header=\"Auction Description\" sortable></Column>\r\n                <Column field=\"auctionMethodName\" header=\"Auction Method\" sortable></Column>\r\n                <Column field=\"auctionProcessName\" header=\"Auction Process\" sortable></Column>\r\n                <!-- <Column field=\"action\" header=\"Action\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ slotProps.data.auctionCode }}\r\n                        <Button icon=\"pi pi-trash\" class=\"p-button-rounded p-button-danger\" label=\"Details\"\r\n                            @click=\" visible = true\" />\r\n                    </template>\r\n                </Column> -->\r\n\r\n                <Column expander header=\"action\" style=\"width: 5rem\">\r\n                    <template #rowtogglericon=\"\">\r\n                        <fa-eye></fa-eye> Details\r\n                    </template>\r\n                </Column>\r\n                <template #expansion=\"slot\">\r\n                    <div class=\"box-section\">\r\n                        <div class=\"bs-header\">\r\n                            Auction Description\r\n                        </div>\r\n                        <div class=\"bs-item-holder\">\r\n                            <div class=\"bs-item col-span-6\">\r\n                                <div class=\"bs-label\">Auction Type:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.auctionType }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-6\">\r\n                                <div class=\"bs-label\">Auction Method:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.auctionMethodName }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">Auction Process:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.auctionProcessName }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">Bid Placement:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.bidPlacementName }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">District:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.district }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">MC:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.mcName }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">Location:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.location }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">Area:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.AREA }}</div>\r\n                            </div>\r\n                            <!-- <div class=\"bs-item col-span-4\">\r\n                            <label class=\"bold-label\" for=\"itemCount\">Properties Available:</div>\r\n                            <div class=\"bs-value\">Upto {{ slot.data.itemCount }}</div>\r\n                        </div> -->\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">EMD:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.eventEmdProcessingFees }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">Reserve Price:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.reservePrice }}</div>\r\n                            </div>\r\n                            <div class=\"bs-item col-span-4\">\r\n                                <div class=\"bs-label\">Modifier Value:</div>\r\n                                <div class=\"bs-value\">{{ slot.data.modifierValue }}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </DataTable>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MQL from '@/plugins/mql.js';\r\nimport Button from 'primevue/button';\r\nimport { ref, onMounted } from 'vue'\r\nimport { FilterMatchMode } from 'primevue/api'\r\nimport { useRouter } from 'vue-router'\r\nimport faPlus from '../../../assets/icons/plus.svg'\r\nimport faMagnifyingGlass from '../../../assets/icons/magnifying-glass.svg'\r\nimport { fetchAuctionStatus } from '../../plugins/helpers';\r\nconst router = useRouter()\r\nvar showCard = ref(false)\r\nconst expandedRows = ref([]);\r\nconst crumbs = ref([\r\n    { label: 'Home', route: '/home' },\r\n    { label: 'Bidder', route: '/home' },\r\n    { label: 'Auction List' }\r\n])\r\n\r\nimport faEye from '../../../assets/icons/eye.svg'\r\n\r\nconst customers = ref([]);\r\nconst filters = ref({\r\n    'global': { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n});\r\n\r\nconst visible = ref(false);\r\n\r\n\r\nasync function AuctionList() {\r\n    var AUCTION_DRAFTED\r\n    const resultStatus = await fetchAuctionStatus(\"AUCTION_DRAFTED\")\r\n    if (resultStatus.error == null) {\r\n        AUCTION_DRAFTED = resultStatus.result.statusId\r\n    } else {\r\n\r\n    }\r\n    new MQL()\r\n        .useManagementServer()\r\n        .setActivity(\"o.[FetchAuctionsWithApprovedStatus]\")\r\n        .setData({ statusId: AUCTION_DRAFTED })\r\n        .fetch()\r\n        .then(rs => {\r\n            let res = rs.getActivity(\"FetchAuctionsWithApprovedStatus\", true)\r\n            if (rs.isValid(\"FetchAuctionsWithApprovedStatus\")) {\r\n                customers.value = res.result.auctionData\r\n            } else {\r\n                rs.showErrorToast(\"FetchAuctionsWithApprovedStatus\")\r\n            }\r\n        })\r\n\r\n    // Automatically generated\r\n\r\n\r\n}\r\n\r\n// function FetchAuctionDetailsByAuctionId(auctionId) {\r\n\r\n//    new MQL()\r\n//        .useManagementServer()\r\n//        .setActivity(\"o.[FetchAuctionDetailsByAuctionId]\")\r\n//        .setData({auctionId:auctionId.value})\r\n//        .fetch()\r\n//        .then(rs => {\r\n\r\n//            let res = rs.getActivity(\"FetchAuctionDetailsByAuctionId\", true)\r\n//            if (rs.isValid(\"FetchAuctionDetailsByAuctionId\")) {\r\n//                console.log(res)\r\n//                res.result.fetchAuctionDetails['auctionDocuments'] = res.result.fetchDocuments\r\n//                res.result.fetchAuctionDetails.item = JSON.parse(\"[\" + res.result.fetchAuctionDetails.item + \"]\");\r\n//                const auctionDetail = res.result.fetchAuctionDetails;\r\n//                console.log(auctionDetail,\"auctionDetails\")\r\n\r\n//                // Map documents to an object with documentTypeName as key and documentPath as value\r\n//                const documentsMap = {};\r\n//                auctionDetail.auctionDocuments.forEach(doc => {\r\n//                    documentsMap[doc.documentTypeName] = doc.documentPath;\r\n//                });\r\n\r\n//                // Assign documentsMap to auctionDetail\r\n//                auctionDetail.documentsMap = documentsMap;\r\n\r\n//                auctionDetails.value.push(auctionDetail);\r\n//                console.log(auctionDetails.value, \"auctionDetails.value\");\r\n\r\n//                // You can access document paths using auctionDetail.documentsMap in the template\r\n//            } else {\r\n//                rs.showErrorToast(\"FetchAuctionDetailsByAuctionId\")\r\n//            }\r\n//        })\r\n// }\r\n\r\nfunction navigateToRoute() {\r\n    // Navigate to another route\r\n    router.push('/auction-preparation')\r\n}\r\n\r\n\r\nonMounted(() => {\r\n\r\n    AuctionList()\r\n\r\n});\r\n\r\n</script>\r\n"],"names":["router","useRouter","ref","expandedRows","crumbs","label","route","customers","filters","global","value","matchMode","FilterMatchMode","CONTAINS","navigateToRoute","push","onMounted","async","AUCTION_DRAFTED","resultStatus","fetchAuctionStatus","error","result","statusId","MQL","useManagementServer","setActivity","setData","fetch","then","rs","res","getActivity","isValid","auctionData","showErrorToast","AuctionList"],"mappings":"+uDA8HA,MAAMA,GAASC,IACAC,GAAI,GACb,MAAAC,GAAeD,EAAI,IACnBE,GAASF,EAAI,CACf,CAAEG,MAAO,OAAQC,MAAO,SACxB,CAAED,MAAO,SAAUC,MAAO,SAC1B,CAAED,MAAO,kBAKPE,GAAYL,EAAI,IAChBM,GAAUN,EAAI,CAChBO,OAAU,CAAEC,MAAO,KAAMC,UAAWC,EAAgBC,YAqExD,SAASC,KAELd,GAAOe,KAAK,uBAChB,QArEgBb,GAAI,GAwEpBc,GAAU,MArEVC,iBACQ,IAAAC,EACE,MAAAC,QAAqBC,EAAmB,mBACpB,MAAtBD,EAAaE,QACbH,EAAkBC,EAAaG,OAAOC,WAI1C,IAAIC,GACCC,sBACAC,YAAY,uCACZC,QAAQ,CAAEJ,SAAUL,IACpBU,QACAC,MAAWC,IACR,IAAIC,EAAMD,EAAGE,YAAY,mCAAmC,GACxDF,EAAGG,QAAQ,mCACD1B,GAAAG,MAAQqB,EAAIT,OAAOY,YAE7BJ,EAAGK,eAAe,kCACrB,GAMb,CA8CIC,EAAa"}