{"version":3,"file":"DownloadManager-bfffb3fc.js","sources":["../../src/components/download-manager/downloadFile.vue","../../src/components/download-manager/downloadProgress.vue","../../src/views/DownloadManager.vue"],"sourcesContent":["<template>\r\n  <div id=\"downloadFileInner\">\r\n    <h2 class=\"text-xl font-bold flex gap-2 items-center justify-center\">Download File</h2>\r\n    <div class=\"grid gap-4 grid-cols-2\">\r\n        <div class=\"box-login mx-auto p-8 w-full rounded-xl bg-white shadow\">\r\n            <div class=\"field\">\r\n                <FormKit\r\n                type=\"text\"\r\n                label=\"Enter Base Url\"\r\n                help=\"Enter Base Url”.\"\r\n                placeholder=\"Enter Base Url\"\r\n                validation=\"required\"\r\n                v-model=\"download.cdnBaseUrl\"\r\n                />\r\n            </div>\r\n            <div class=\"field\">\r\n                <FormKit\r\n                type=\"text\"\r\n                label=\"Enter Download File Url\"\r\n                help=\"Enter Download File Url”.\"\r\n                placeholder=\"Enter Download File Url\"\r\n                validation=\"required\"\r\n                v-model=\"download.downloadFileUrl\"\r\n                />\r\n            </div>\r\n            <div class=\"field\">\r\n                <FormKit\r\n                type=\"text\"\r\n                label=\"Enter Destination Url\"\r\n                help=\"Enter Destination Url”.\"\r\n                placeholder=\"Enter Destination Url\"\r\n                validation=\"required\"\r\n                v-model=\"download.destinationFileUrl\"\r\n                />\r\n            </div>\r\n            <div class=\"btn-wrapper\">\r\n                <FormKit\r\n                type=\"submit\"\r\n                label=\"Download File\"\r\n                @click=\"downloadFile\"\r\n                />\r\n            </div>\r\n        </div>\r\n        <div class=\"box-login mx-auto p-8 w-full rounded-xl bg-white shadow\">\r\n            <h4>Testing Parameters</h4>\r\n            <ul class=\"list\">\r\n                <li>\r\n                Base URL\r\n                <div>https://csdev.mkcl.org/</div>\r\n                </li>\r\n                <li>\r\n                Download File URL\r\n                <div>\r\n                    server/sls/ProjectConfigBackup/1Mg6VkbM1MQhhKh8z2qGSa42HIY/02_04_2021/1Mg6VkbM1MQhhKh8z2qGSa42HIY_1617343458.json\r\n                </div>\r\n                </li>\r\n                <li>\r\n                Destination File URL\r\n                <div>02_04_2021/</div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MQL from \"@/plugins/mql.js\";\r\nimport { reactive, ref } from \"vue\";\r\nlet download = reactive({});\r\nlet downloadResult = ref({});\r\n\r\nfunction downloadFile() {\r\n  var a = [];\r\n  a.push(download.downloadFileUrl);\r\n  download.downloadFileUrl = a;\r\n  new MQL()\r\n    .setActivity(\"o.[DownloadFileUsingDM]\")\r\n    .setData(download)\r\n    .fetch()\r\n    .then((rs) => {\r\n      let res = rs.getActivity(\"DownloadFileUsingDM\", true);\r\n      if (rs.isValid(\"DownloadFileUsingDM\")) {\r\n        download = {};\r\n        downloadResult.value = res.result;\r\n        toast.success(\"File Downloaded Successfully\");\r\n      } else {\r\n        rs.showErrorToast(\"DownloadFileUsingDM\");\r\n      }\r\n    });\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nh4 {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.list {\r\n  padding: 0 1rem;\r\n\r\n  li {\r\n    font-weight: 600;\r\n\r\n    div {\r\n      font-weight: 400;\r\n      word-break: break-word;\r\n    }\r\n\r\n    & + li {\r\n      margin-top: 0.75rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"container-fluid\" id=\"downloadFIleProgress\">\r\n\t\t<h2 class=\"text-xl font-bold flex gap-2 items-center justify-center\">\r\n\t\t\tCheck Progress\r\n\t\t</h2>\r\n\t\t<div class=\"box-login mx-auto p-8 rounded-xl bg-white shadow\">\r\n            <FormKit\r\n                type=\"text\"\r\n                label=\"Enter Download Id\"\r\n                help=\"Enter Download Id”.\"\r\n                placeholder=\"Enter Download Id\"\r\n                validation=\"required\"\r\n                v-model=\"downloadId\"\r\n            />\r\n            <div class=\"btn-wrapper\">\r\n                <FormKit type=\"submit\" label=\"Check Progress\" @click=\"checkDownloadProgress\" />\r\n            </div>\r\n            <div class=\"field mt-4\">\r\n                <h3>Result</h3>\r\n                <div class=\"json-wrapper\">\r\n                    <json-viewer :value=\"progressResult\" boxed :expanded=\"true\"></json-viewer>\r\n                </div>\r\n            </div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport MQL from \"@/plugins/mql.js\"\r\n\timport { ref } from \"vue\"\r\n\timport jsonViewer from \"vue-json-viewer\"\r\n\timport { createToaster } from \"@meforma/vue-toaster\"\r\n\tconst toaster = createToaster({ position: \"top-right\", duration: 3000 })\r\n\r\n\tlet downloadId = ref(\"\")\r\n\tlet progressResult = ref({})\r\n\tfunction checkDownloadProgress() {\r\n\t\tnew MQL()\r\n\t\t\t.setActivity(\"o.[CheckDownloadedFileProgress]\")\r\n\t\t\t.setData({ downloadFileId: downloadId.value })\r\n\t\t\t.fetch()\r\n\t\t\t.then((rs) => {\r\n\t\t\t\tlet res = rs.getActivity(\"CheckDownloadedFileProgress\", true)\r\n\t\t\t\tif (rs.isValid(\"CheckDownloadedFileProgress\")) {\r\n\t\t\t\t\tif (res && res.result) {\r\n\t\t\t\t\t\tprogressResult.value = res.result\r\n\t\t\t\t\t\tdownloadId.value = \"\"\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttoaster.error(\"Progress Check Failed\")\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\trs.showErrorToast(\"CheckDownloadedFileProgress\")\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n</script>\r\n","<template>\r\n\t<div id=\"downloadManger\">\r\n\t\t<h2 class=\"text-xl font-bold flex gap-2 items-center\">\r\n\t\t\t<i class=\"isax isax-bold-arrow-left-2 cursor-pointer\" @click=\"$router.go(-1)\"></i>\r\n\t\t\tDownload Manager\r\n\t\t</h2>\r\n\t\t<div class=\"mt-5 mx-auto\">\r\n\t\t\t<div class=\"flex gap-2 justify-center\">\r\n\t\t\t\t<a class=\"tab tab-bordered px-5 py-2 h-auto rounded bg-white [&.tab-active]:bg-blue-600 [&.tab-active]:text-white\" :class=\"active == 0 ? 'tab-active' : ''\" @click.prevent=\"active = 0\"\r\n\t\t\t\t\t>Download File</a\r\n\t\t\t\t>\r\n\t\t\t\t<a class=\"tab tab-bordered px-5 py-2 h-auto rounded bg-white [&.tab-active]:bg-blue-600 [&.tab-active]:text-white\" :class=\"active == 1 ? 'tab-active' : ''\" @click.prevent=\"active = 1\"\r\n\t\t\t\t\t>Check Download Progress</a\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"mt-8\">\r\n\t\t\t<download-file v-if=\"active == 0\"></download-file>\r\n\t\t\t<download-progress v-if=\"active == 1\"></download-progress>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref } from \"vue\"\r\n\timport downloadFile from \"../components/download-manager/downloadFile.vue\"\r\n\timport downloadProgress from \"../components/download-manager/downloadProgress.vue\"\r\n\r\n\tconst active = ref(0)\r\n</script>\r\n"],"names":["download","reactive","downloadResult","ref","downloadFile","a","push","downloadFileUrl","MQL","setActivity","setData","fetch","then","rs","res","getActivity","isValid","value","result","toast","success","showErrorToast","toaster","createToaster","position","duration","downloadId","progressResult","checkDownloadProgress","downloadFileId","error","active"],"mappings":"mjCAqEI,IAAAA,EAAWC,EAAS,CAAA,GACpBC,EAAiBC,EAAI,CAAA,GAEzB,SAASC,IACP,IAAIC,EAAI,GACNA,EAAAC,KAAKN,EAASO,iBAChBP,EAASO,gBAAkBF,GAC3B,IAAIG,GACDC,YAAY,2BACZC,QAAQV,GACRW,QACAC,MAAMC,IACL,IAAIC,EAAMD,EAAGE,YAAY,uBAAuB,GAC5CF,EAAGG,QAAQ,wBACbhB,EAAW,CAAA,EACXE,EAAee,MAAQH,EAAII,OAC3BC,MAAMC,QAAQ,iCAEdP,EAAGQ,eAAe,sBACnB,GAEP,w5CC1DC,MAAMC,EAAUC,EAAc,CAAEC,SAAU,YAAaC,SAAU,MAE7D,IAAAC,EAAavB,EAAI,IACjBwB,EAAiBxB,EAAI,IACzB,SAASyB,KACR,IAAIpB,GACFC,YAAY,mCACZC,QAAQ,CAAEmB,eAAgBH,EAAWT,QACrCN,QACAC,MAAMC,IACN,IAAIC,EAAMD,EAAGE,YAAY,+BAA+B,GACpDF,EAAGG,QAAQ,+BACVF,GAAOA,EAAII,QACdS,EAAeV,MAAQH,EAAII,OAC3BQ,EAAWT,MAAQ,IAEnBK,EAAQQ,MAAM,yBAGfjB,EAAGQ,eAAe,8BAClB,GAEH,2vBC1BK,MAAAU,EAAS5B,EAAI"}