{"version":3,"file":"MqlAssetFDBDemo-52bdaa0d.js","sources":["../../src/plugins/mqlAssetFDB.js","../../src/views/MqlAssetFDBDemo.vue"],"sourcesContent":["import axios from \"axios\"\r\nimport Response from \"@/plugins/response.js\"\r\nimport { main } from \"../store/index\"\r\nconst Vue = window.app\r\n\r\nclass mqlAssetFDB {\r\n  constructor(indexId = null) {\r\n    let cancel\r\n    let isDevelopment = process.env.NODE_ENV !== \"production\"\r\n    let CancelToken = axios.CancelToken\r\n    this.assetData = new FormData()\r\n    this.route = \"assetfdb\"\r\n    this.downloadRoute = \"assetdownload\"\r\n    this.hostName = \"\"\r\n    this.fileName = \"\"\r\n    this.indexType = \"o\"\r\n    this.indexId = indexId\r\n    this.recordId = \"\"\r\n    const IndexSplitter = \".\"\r\n    this.customURL = \"\"\r\n    this.mainStore = main()\r\n    const mqlInstance = axios.create({\r\n      baseURL: Vue.getBaseURL(),\r\n      managementURL: Vue.getManagementURL()\r\n    })\r\n\r\n    mqlInstance.interceptors.request.use(\r\n      function (config) {\r\n        if (config.url.indexOf(\"r/mql\") !== -1 || config.url.indexOf(\"r/c/mql\") !== -1) {\r\n          if (sessionStorage.getItem(\"user-token\") === null) {\r\n            cancel(\"Operation canceled by the MQL interceptor.\")\r\n          }\r\n        }\r\n        return config\r\n      },\r\n      function (error) {\r\n        return Promise.reject(error)\r\n      }\r\n    )\r\n\r\n    const setHeaders = (headers = {}) => {\r\n      headers[\"Authorization\"] = \"Bearer \" + sessionStorage.getItem(\"user-token\")\r\n      headers[\"Content-Type\"] = \"multipart/form-data\"\r\n      return headers\r\n    }\r\n\r\n    this.formatIndex = function (indexIdStr) {\r\n      this.indexType = indexIdStr.split(IndexSplitter)[0]\r\n      this.indexId = indexIdStr.split(IndexSplitter)[1]\r\n    }\r\n\r\n    // TODO: Validate the necessary params by creating a helper function\r\n    // to generate url for uploading an asset\r\n    this.generateUploadURL = () => {\r\n      let url = `${this.indexType}/${this.route}/${this.hostName}/${this.indexId}`\r\n      if (this.customURL) {\r\n        url = `${this.customURL}/${url}`\r\n      } else {\r\n        url = `/${url}`\r\n      }\r\n      return url\r\n    }\r\n    this.generateUpdateURL = () => {\r\n      let url = `${this.indexType}/${this.route}/${this.hostName}/${this.indexId}`\r\n      if (this.recordId) {\r\n        url = `${url}/${this.recordId}`\r\n      } else {\r\n        url = `${url}/`\r\n        return url\r\n      }\r\n      if (this.customURL) {\r\n        url = `${this.customURL}/${url}`\r\n        return url\r\n      } else {\r\n        url = `/${url}`\r\n        return url\r\n      }\r\n    }\r\n    this.generateStreamURL = (assetPath) => {\r\n      let url = `${this.indexType}/${this.route}`\r\n      if (assetPath) {\r\n        url = `${url}/${assetPath}`\r\n      } else {\r\n        console.error(\"Asset Path cannot be null\")\r\n        return\r\n      }\r\n      if (this.customURL) {\r\n        url = `${this.customURL}/${url}`\r\n        return url\r\n      } else {\r\n        url = `/server/${url}`\r\n        return url\r\n      }\r\n    }\r\n    this.generateDownloadURL = (assetPath) => {\r\n      let url = `${this.indexType}/${this.downloadRoute}`\r\n      if (assetPath) {\r\n        url = `${url}/${assetPath}`\r\n      } else {\r\n        console.error(\"Asset Path cannot be null\")\r\n        return\r\n      }\r\n      if (this.customURL) {\r\n        url = `${this.customURL}/${url}`\r\n        return url\r\n      } else {\r\n        url = `/server/${url}`\r\n        return url\r\n      }\r\n    }\r\n    this.setIndex = function (indexId) {\r\n      this.formatIndex(indexId)\r\n      return this\r\n    }\r\n\r\n    this.setHostName = function (hostName) {\r\n      this.hostName = hostName\r\n      return this\r\n    }\r\n    this.setFormData = (formData) => {\r\n      this.fileName = formData.get(\"file\").name\r\n      this.assetData.append(\"asset\", formData.get(\"file\"))\r\n      return this\r\n    }\r\n\r\n    this.setCustomURL = (customURL) => {\r\n      this.customURL = customURL\r\n      return this\r\n    }\r\n\r\n    this.setAssetData = function (assetData) {\r\n      assetData = JSON.stringify(assetData)\r\n      this.assetData.set(\"data\", assetData)\r\n      return this\r\n    }\r\n\r\n    this.enablePageLoader = function (boolShowPageLoader = false) {\r\n      this.showPageLoader = boolShowPageLoader\r\n      return this\r\n    }\r\n\r\n    this.setUpdateWithRecordId = function (recordId) {\r\n      this.recordId = recordId\r\n      return this\r\n    }\r\n\r\n    this.uploadAssetFile = (docId = null) => {\r\n      let txt = \"\"\r\n      if (this.showPageLoader) {\r\n        // window.app.$store.dispatch('app/MUTATE_PAGE_BLOCKER', true)\r\n        this.mainStore.MUTATE_PAGE_BLOCKER(true)\r\n      }\r\n      return new Promise((resolve) => {\r\n        if (docId !== null && document.getElementById(docId) !== null) {\r\n          txt = document.getElementById(docId).innerHTML\r\n          document.getElementById(docId).disabled = true\r\n          document.getElementById(docId).innerHTML = \"Processing\"\r\n        }\r\n        let url = \"\"\r\n        if (this.recordId) {\r\n          url = this.generateUpdateURL()\r\n        } else {\r\n          url = this.generateUploadURL()\r\n        }\r\n        if (this.indexId) {\r\n          mqlInstance({\r\n            url: url,\r\n            method: \"POST\",\r\n            headers: setHeaders(),\r\n            data: this.assetData,\r\n            cancelToken: new CancelToken(function executor(c) {\r\n              cancel = c\r\n            }),\r\n          })\r\n            .then((res) => {\r\n              if (this.showPageLoader) {\r\n                // window.app.$store.dispatch('app/MUTATE_PAGE_BLOCKER', false)\r\n                this.mainStore.MUTATE_PAGE_BLOCKER(true)\r\n              }\r\n              if (docId !== null && document.getElementById(docId) !== null) {\r\n                document.getElementById(docId).disabled = false\r\n                document.getElementById(docId).innerHTML = txt\r\n              }\r\n              let obj = {}\r\n              obj.data = {}\r\n              obj.data.errorCode = 1000\r\n              obj.data.result = res.data\r\n              resolve(new Response(obj))\r\n            })\r\n            .catch((error) => {\r\n              let obj = {}\r\n              obj.data = {}\r\n              if (docId !== null && document.getElementById(docId) !== null) {\r\n                document.getElementById(docId).disabled = false\r\n                document.getElementById(docId).innerHTML = txt\r\n              }\r\n              if (this.showPageLoader) {\r\n                // window.app.$store.dispatch('app/MUTATE_PAGE_BLOCKER', false)\r\n                this.mainStore.MUTATE_PAGE_BLOCKER(false)\r\n              }\r\n              obj.data.error = error.message\r\n              obj.data.errorCode = 1990\r\n              obj.data.result = null\r\n              resolve(new Response(obj))\r\n            })\r\n        } else {\r\n          if (docId !== null && document.getElementById(docId) !== null) {\r\n            document.getElementById(docId).disabled = false\r\n            document.getElementById(docId).innerHTML = txt\r\n          }\r\n          let obj = {}\r\n          obj.data = {}\r\n          obj.data.error = \"Data Not Found\" + this.assetData\r\n          obj.data.errorCode = 1990\r\n          obj.data.result = null\r\n          resolve(new Response(obj))\r\n        }\r\n      }).catch((error) => {\r\n        // Handling development related errors\r\n        if (isDevelopment) {\r\n          alert(error)\r\n        }\r\n      })\r\n    }\r\n\r\n    this.download = (assetPath, docId = null) => {\r\n      let txt = \"\"\r\n      if (this.showPageLoader) {\r\n        // window.app.$store.dispatch('app/MUTATE_PAGE_BLOCKER', true)\r\n        this.mainStore.MUTATE_PAGE_BLOCKER(true)\r\n      }\r\n      return new Promise((resolve) => {\r\n        if (docId !== null && document.getElementById(docId) !== null) {\r\n          txt = document.getElementById(docId).innerHTML\r\n          document.getElementById(docId).disabled = true\r\n          document.getElementById(docId).innerHTML = \"Processing\"\r\n        }\r\n        if (assetPath) {\r\n          window.open(this.generateDownloadURL(assetPath), \"_blank\")\r\n        } else {\r\n          if (docId !== null && document.getElementById(docId) !== null) {\r\n            document.getElementById(docId).disabled = false\r\n            document.getElementById(docId).innerHTML = txt\r\n          }\r\n          let obj = {}\r\n          obj.data = {}\r\n          obj.data.error = \"No Data Found\" + this.assetData\r\n          obj.data.errorCode = 1990\r\n          obj.data.result = null\r\n          resolve(new Response(obj))\r\n        }\r\n      }).catch((error) => {\r\n        // Handling development related errors\r\n        if (isDevelopment) {\r\n          alert(error)\r\n        }\r\n      })\r\n    }\r\n    this.render = (assetPath, docId = null) => {\r\n      let txt = \"\"\r\n      if (this.showPageLoader) {\r\n        // window.app.$store.dispatch('app/MUTATE_PAGE_BLOCKER', true)\r\n        this.mainStore.MUTATE_PAGE_BLOCKER(true)\r\n      }\r\n      return new Promise((resolve) => {\r\n        if (docId !== null && document.getElementById(docId) !== null) {\r\n          txt = document.getElementById(docId).innerHTML\r\n          document.getElementById(docId).disabled = true\r\n          document.getElementById(docId).innerHTML = \"Processing\"\r\n        }\r\n        if (assetPath) {\r\n          window.open(this.generateStreamURL(assetPath), \"_blank\")\r\n        } else {\r\n          if (docId !== null && document.getElementById(docId) !== null) {\r\n            document.getElementById(docId).disabled = false\r\n            document.getElementById(docId).innerHTML = txt\r\n          }\r\n          let obj = {}\r\n          obj.data = {}\r\n          obj.data.error = \"No Data Found\" + this.assetData\r\n          obj.data.errorCode = 1990\r\n          obj.data.result = null\r\n          resolve(new Response(obj))\r\n        }\r\n      }).catch((error) => {\r\n        // Handling development related errors\r\n        if (isDevelopment) {\r\n          alert(error)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default mqlAssetFDB\r\n","<template>\r\n  <div id=\"assetFDB\">\r\n    <h2 class=\"text-xl font-bold flex gap-2 items-center\">\r\n      <i class=\"isax isax-bold-arrow-left-2 cursor-pointer\" @click=\"$router.go(-1)\"></i>\r\n      MQL Request For Asset FDB\r\n    </h2>\r\n    <div class=\"box-login mx-auto p-8 max-w-2xl rounded-xl bg-white shadow\">\r\n        <h3>Upload File</h3>\r\n        <div class=\"field mt-5\">\r\n            <FormKit\r\n            type=\"file\"\r\n            label=\"Your files\"\r\n            help=\"This input starts with files already attached.\"\r\n            multiple=\"true\"\r\n            :value=\"file_2\"\r\n            v-model=\"file\"\r\n            />\r\n            <FormKit type=\"submit\" label=\"Upload File\" @click=\"uploadFile\" />\r\n        </div>\r\n        <div class=\"field mt-5\">\r\n            <h3 class=\"mb-5\">Asset File</h3>\r\n            <FormKit\r\n            type=\"text\"\r\n            name=\"assetPath\"\r\n            label=\"assetPath\"\r\n            v-model=\"assetPath\"\r\n            placeholder=\"Enter Asset File Path\"\r\n            help=\"Asset File Path\"\r\n            validation=\"required\"\r\n            />\r\n        </div>\r\n        <div class=\"field mt-5\">\r\n            <h3 class=\"mb-5\">Update File</h3>\r\n            <FormKit\r\n            type=\"text\"\r\n            name=\"recordId\"\r\n            label=\"recordId\"\r\n            v-model=\"recordId\"\r\n            placeholder=\"Enter recordId\"\r\n            help=\"Record Id\"\r\n            validation=\"required\"\r\n            />\r\n        </div>\r\n        <div class=\"field mt-5\">\r\n            <FormKit\r\n            type=\"file\"\r\n            label=\"Your files\"\r\n            help=\"This input starts with files already attached.\"\r\n            multiple=\"true\"\r\n            :value=\"file_2\"\r\n            v-model=\"file\"\r\n            />\r\n        </div>\r\n        <div class=\"field mt-5\">\r\n            <h3 class=\"mb-3\">Updated Asset Path</h3>\r\n            <p v-if=\"!updatedAssetPath\">Asset path not updated</p>\r\n            <p v-else>\r\n            {{ updatedAssetPath }}\r\n            </p>\r\n        </div>\r\n        <!-- <div class=\"btn-wrapper text-center\"> -->\r\n        <FormKit\r\n            type=\"submit\"\r\n            @click.stop.prevent=\"downloadFile\"\r\n            label=\"Download Asset\"\r\n        />\r\n        <FormKit\r\n            type=\"submit\"\r\n            @click.stop.prevent=\"renderFile\"\r\n            label=\"Render Asset\"\r\n        />\r\n        <!-- </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MQLAssetFDB from \"@/plugins/mqlAssetFDB.js\";\r\nimport { ref } from \"vue\";\r\n\r\nlet assetPath = ref(\"\");\r\nlet files = ref(\"\");\r\nlet content = ref(\"\");\r\nlet recordId = ref(\"\");\r\nlet updatedAssetPath = ref(\"\");\r\nlet chooseIcon = ref(\"isax isax-bold-cloud-plus\");\r\nlet uploadIcon = ref(\"isax isax-bold-add\");\r\nlet cancelIcon = ref(\"isax isax-bold-close-circle\");\r\nlet file_2 = ref(\"\");\r\nlet file = ref(\"\");\r\nfunction uploadFile() {\r\n  let formData = new FormData();\r\n  formData.append(\"file\", files.value);\r\n  new MQLAssetFDB()\r\n    .enablePageLoader(true)\r\n    .setIndex(\"o.9929b6e44da568f390d20e51032b\")\r\n    .setHostName(\"TestMixedBucketFDB2\")\r\n    .setFormData(formData)\r\n    .setAssetData({ TestAssetBucket: \"bucket1\" })\r\n    .uploadAssetFile()\r\n    .then((res) => {\r\n      if (res.isValid()) {\r\n        assetPath.value = res.getAssetPath();\r\n      } else {\r\n        res.showErrorToast();\r\n      }\r\n    });\r\n}\r\nfunction updateFile(recordId) {\r\n  let formData = new FormData();\r\n  formData.append(\"file\", files.value);\r\n  new MQLAssetFDB()\r\n    .setIndex(\"o.9929b6e44da568f390d20e51032b\")\r\n    .setHostName(\"TestMixedBucketFDB2\")\r\n    .setFormData(formData)\r\n    .setUpdateWithRecordId(recordId)\r\n    .setAssetData({ TestAssetBucket: \"bucket1\" })\r\n    .uploadAssetFile()\r\n    .then((res) => {\r\n      if (res.isValid()) {\r\n        updatedAssetPath.value = res.getAssetPath();\r\n      } else {\r\n        res.showErrorToast();\r\n      }\r\n    });\r\n}\r\nfunction downloadFile() {\r\n  new MQLAssetFDB().download(updatedAssetPath.value || assetPath.value);\r\n}\r\nfunction renderFile() {\r\n  new MQLAssetFDB().render(updatedAssetPath.value || assetPath.value);\r\n}\r\n</script>\r\n\r\n<style></style>\r\n"],"names":["Vue","window","app","mqlAssetFDB","constructor","indexId","cancel","CancelToken","axios","this","assetData","FormData","route","downloadRoute","hostName","fileName","indexType","recordId","customURL","mainStore","main","mqlInstance","create","baseURL","getBaseURL","managementURL","getManagementURL","interceptors","request","use","config","url","indexOf","sessionStorage","getItem","error","Promise","reject","setHeaders","headers","formatIndex","indexIdStr","split","generateUploadURL","generateUpdateURL","generateStreamURL","assetPath","console","generateDownloadURL","setIndex","setHostName","setFormData","formData","get","name","append","setCustomURL","setAssetData","JSON","stringify","set","enablePageLoader","boolShowPageLoader","showPageLoader","setUpdateWithRecordId","uploadAssetFile","docId","txt","MUTATE_PAGE_BLOCKER","resolve","document","getElementById","innerHTML","disabled","method","data","cancelToken","c","then","res","obj","errorCode","result","Response","catch","message","alert","download","open","render","ref","files","updatedAssetPath","file_2","file","uploadFile","value","MQLAssetFDB","TestAssetBucket","isValid","getAssetPath","showErrorToast","downloadFile","renderFile"],"mappings":"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"}